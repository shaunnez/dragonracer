<ion-view title="Game Setup">
	<ion-nav-buttons side="right">
		<button class="button button-stable" ng-click="save()">Save</button>
	</ion-nav-buttons>
  <ion-content>
		<div class="list">
			<div class="item item-divider">General options</div>
			<div class="item item-input item-floating-label">
			  <span class="input-label">Player name</span>
				<input type="text" ng-model="config.playerName">
			</div>
			<div class="item item-toggle">
				Use online service
				<label class="toggle toggle-positive">
					<input type="checkbox" ng-model="config.useOnlineService" >
					<div class="track">
						<div class="handle"></div>
					</div>
				</label>
			</div>
			<div class="item item-input item-floating-label" ng-if="config.useOnlineService">
			  <span class="input-label">Simulator url</span>
				<input type="text" ng-model="config.simulatorUrl">
			</div>
			
			<div class="item item-divider">Dragons: {{ config.amountOfDragons }}</div>
			<div class="item range range-positive">
		    <i class="icon ion-ios-people-outline"></i>
		    <input type="range" min="2" max="10" ng-model="config.amountOfDragons">
		    <i class="icon ion-ios-people"></i>
		  </div>
			
			<div ng-repeat="dragon in config.dragons">
				<div class="item item-input item-select" ng-if="$index < config.amountOfDragons">
					<img ng-src="img/dragon-{{ $index + 1 }}.png" class="dragon-avatar-list" /> 
					<div class="input-label">
						<input type="text" ng-model="dragon.name">
						<p>Odds: {{ (dragon.weight / totalWeight * 100).toFixed(2) }}%</p>
					</div>
					<select ng-model="dragon.weight" convert-to-number>
						<option value="1">Weight: 1</option>
						<option value="2">Weight: 2</option>
						<option value="3">Weight: 3</option>
						<option value="4">Weight: 4</option>
						<option value="5">Weight: 5</option>
						<option value="6">Weight: 6</option>
						<option value="7">Weight: 7</option>
						<option value="8">Weight: 8</option>
						<option value="9">Weight: 9</option>
						<option value="10">Weight: 10</option>
					</select>
				</div>
			</div>
			
			<div class="item item-divider">Music (Volume: {{ config.volume }})</div>
			<div class="item item-toggle">
				Play game music
				<label class="toggle toggle-positive">
					<input type="checkbox" ng-model="config.playMusic" >
					<div class="track">
						<div class="handle"></div>
					</div>
				</label>
			</div>
			<div class="item range range-positive">
		    <i class="icon ion-volume-low"></i>
		    <input type="range" min="0" max="1" step="0.1" ng-model="config.volume">
		    <i class="icon ion-volume-high"></i>
		  </div>
			
			<div class="item item-divider">Animation</div>
			<div class="item item-toggle">
				Dragons
				<label class="toggle toggle-positive">
					<input type="checkbox" ng-model="config.animateDragons" >
					<div class="track">
						<div class="handle"></div>
					</div>
				</label>
			</div>
			<div class="item item-toggle">
				Background
				<label class="toggle toggle-positive">
					<input type="checkbox" ng-model="config.animateBackground" >
					<div class="track">
						<div class="handle"></div>
					</div>
				</label>
			</div>
			<div class="item item-toggle">
				Animate sun
				<label class="toggle toggle-positive">
					<input type="checkbox" ng-model="config.animateSun" >
					<div class="track">
						<div class="handle"></div>
					</div>
				</label>
			</div>
			
			
			<div class="item item-divider">Maximum steps: {{config.maxStepsToTake}}</div>
			<div class="item range range-positive">
		    <i class="icon ion-ios-fastforward-outline"></i>
		    <input type="range" min="1" max="15" step="1" ng-model="config.maxStepsToTake">
		    <i class="icon ion-ios-fastforward"></i>
		  </div>
			
			<div class="item item-divider">Dragon tween time: {{config.dragonTweenTime}} seconds</div>
			<div class="item range range-positive">
		    <i class="icon ion-ios-fastforward-outline"></i>
		    <input type="range" min="0.5" max="3" step="0.5" ng-model="config.dragonTweenTime">
				<i class="icon ion-ios-fastforward"></i>
		  </div>
			
			<div class="padding">
				<button class="button button-block button-balanced" ng-click="save()">Save</button>
				<button class="button button-block button-assertive" ng-click="reset()">Reset</button>
				<button class="button button-block button-assertive" ng-click="resetScores()">Reset Scores</button>
			</div>
		</div>
  </ion-content>
</ion-view>
